global:
  environment: dev
  logLevel: debug

backend:
  enabled: true
  image:
    repository: your-ecr-repo/backend
    tag: latest
    pullPolicy: IfNotPresent
  replicaCount: 1
  service:
    type: ClusterIP
    port: 8000
  containerPort: 8000
  resources:
    requests:
      cpu: "250m"
      memory: "512Mi"
    limits:
      cpu: "500m"
      memory: "1Gi"
  health:
    livenessPath: /health/live
    readinessPath: /health/ready
    livenessInitialDelay: 30
    readinessInitialDelay: 10
    livenessPeriod: 10
    readinessPeriod: 5
    timeout: 2
    failureThreshold: 3
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 2
    targetCPUUtilizationPercentage: 70
  secrets:
    enabled: true
    name: backend-secrets
  externalMongo:
    enabled: false

frontend:
  enabled: true
  image:
    repository: your-ecr-repo/frontend
    tag: latest
    pullPolicy: IfNotPresent
  replicaCount: 1
  service:
    type: ClusterIP
    port: 3000
  containerPort: 3000
  resources:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      cpu: "250m"
      memory: "512Mi"
  health:
    livenessPath: /
    readinessPath: /
    livenessInitialDelay: 20
    readinessInitialDelay: 5
    livenessPeriod: 15
    readinessPeriod: 5
    timeout: 2
    failureThreshold: 3

ml:
  enabled: true
  image:
    repository: your-ecr-repo/ml
    tag: latest
    pullPolicy: IfNotPresent
  replicaCount: 1
  containerPort: 9000
  resources:
    requests:
      cpu: "1000m"
      memory: "2Gi"
    limits:
      cpu: "2000m"
      memory: "4Gi"
  nodeSelector:
    workload: ml
  health:
    livenessPath: /health/live
    readinessPath: /health/ready
    livenessInitialDelay: 60
    readinessInitialDelay: 20
    livenessPeriod: 15
    readinessPeriod: 10
    timeout: 3
    failureThreshold: 3
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 1
    targetCPUUtilizationPercentage: 60
  secrets:
    enabled: true
    name: ml-secrets

worker:
  enabled: true
  image:
    repository: your-ecr-repo/worker
    tag: latest
    pullPolicy: IfNotPresent
  replicaCount: 1
  resources:
    requests:
      cpu: "250m"
      memory: "512Mi"
    limits:
      cpu: "500m"
      memory: "1Gi"
  nodeSelector:
    workload: general

mongodb:
  enabled: true
  auth:
    enabled: true
    rootUser: admin
    rootPassword: dev-admin-password
    username: chatbot
    password: dev-chatbot-password
    database: chatbotdb
  architecture: standalone
  persistence:
    enabled: true
    size: 5Gi

ingress:
  enabled: true
  className: alb
  annotations:
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80}]'
  hosts:
    - host: chatbot-dev.example.com
      paths:
        - path: /
          pathType: Prefix
          serviceName: frontend
          servicePort: 3000
        - path: /api
          pathType: Prefix
          serviceName: backend
          servicePort: 8000
        - path: /ml
          pathType: Prefix
          serviceName: ml
          servicePort: 9000
